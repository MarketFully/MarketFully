-- 데이터 베이스 버전 1.5 LAST UPDATED 04/03 19:39 김선엽 --
-- 양식좀 다들 지킵시다 ^^ --

DROP TABLE MEMBER CASCADE CONSTRAINTS;
DROP TABLE CATE1 CASCADE CONSTRAINTS;
DROP TABLE FAVORITE CASCADE CONSTRAINTS;
DROP TABLE MENU_BOARD CASCADE CONSTRAINTS;
DROP TABLE MENU_EXPLAIN CASCADE CONSTRAINTS;
DROP TABLE MENU_PRODUCT CASCADE CONSTRAINTS;
DROP TABLE MENU_REPLY CASCADE CONSTRAINTS;
DROP TABLE MILEAGE CASCADE CONSTRAINTS;
DROP TABLE MIROTIC CASCADE CONSTRAINTS;
DROP TABLE MYBAG CASCADE CONSTRAINTS;
DROP TABLE NOTICE CASCADE CONSTRAINTS;
DROP TABLE ORDER_DETAIL CASCADE CONSTRAINTS;
DROP TABLE PRODUCT CASCADE CONSTRAINTS;
DROP TABLE PRODUCT_STOCK CASCADE CONSTRAINTS;
DROP TABLE QNA_BOARD CASCADE CONSTRAINTS;
DROP TABLE QNA_REPLY CASCADE CONSTRAINTS;
DROP TABLE REQUEST_BOARD CASCADE CONSTRAINTS;
DROP TABLE SHIP CASCADE CONSTRAINTS;
DROP TABLE SHIPPING CASCADE CONSTRAINTS;





CREATE TABLE "MEMBER" (
   "MEM_NUM"   NUMBER      NOT NULL,
   "MEM_ID"   VARCHAR2(30)      NOT NULL,
   "MEM_PWD"   CLOB      NOT NULL,
   "MEM_EMAIL"   VARCHAR2(50)      NULL,
   "MEM_PHONE"   VARCHAR2(50)      NULL,
   "MEM_ADDR"   CLOB      NULL,
   "MEM_NAME"   VARCHAR2(30)      NULL,
   "MEM_GENDER"   VARCHAR2(3)      NULL,
   "MEM_BIRTH"   DATE      NULL,
   "MEM_POINT"   NUMBER      NULL,
   "MEM_PROFILE"   CLOB      NULL,
   "MEM_STATUS"   VARCHAR2(3)   DEFAULT 'Y'   NOT NULL,
   "SHIPPING_CODE"   NUMBER      NULL,
   "MEM_GRADE"   VARCHAR2(20)      NULL
);

COMMENT ON COLUMN "MEMBER"."SHIPPING_CODE" IS '배송번호(N)';

CREATE TABLE "MENU_BOARD" (
   "MB_NUM"   NUMBER      NOT NULL,
   "MB_TITLE"   VARCHAR2(60)      NULL,
   "MB_CONTENT"   CLOB      NULL,
   "MB_CDATE"   DATE      NULL,
   "MB_WRITER"   VARCHAR2(30)      NULL,
   "MB_IMAGE"   CLOB      NULL,
   "MB_THANK"   NUMBER      NULL,
   "MB_COUNT"   NUMBER      NULL,
   "MB_RCOUNT"   NUMBER      NULL,
   "MB_STATUS"   VARCHAR2(3)   DEFAULT 'Y'   NOT NULL
);

CREATE TABLE "PRODUCT" (
   "PR_CODE"   NUMBER      NULL,
   "PR_CATE1"   VARCHAR2(30)      NULL,
   "PR_CATE2"   VARCHAR2(30)      NULL,
   "PR_NAME"   VARCHAR2(30)      NULL,
   "PR_PRICE"   NUMBER      NULL,
   "PR_CONTENT"   CLOB      NULL,
   "PR_CARLORY"   NUMBER      NULL,
   "PR_FROM"   CLOB      NULL
);

COMMENT ON COLUMN "PRODUCT"."PR_CODE" IS '상품코드(N)';

CREATE TABLE "MYBAG" (
   "MEM_NUM"   NUMBER      NOT NULL,
   "SHIPPING_CODE"   NUMBER      NULL,
   "MB_NUM"   NUMBER      NOT NULL,
   "MB_EACH"   NUMBER      NULL,
   "PR_CODE"   NUMBER      NULL,
   "PR_EACH"   NUMBER      NULL
);

COMMENT ON COLUMN "MYBAG"."SHIPPING_CODE" IS '배송번호(N)';

COMMENT ON COLUMN "MYBAG"."PR_CODE" IS '상품코드(N)';

CREATE TABLE "FAVORITE" (
   "MEM_NUM"   NUMBER      NOT NULL,
   "MB_NUM"   NUMBER      NOT NULL
);

CREATE TABLE "PRODUCT_STOCK" (
   "PR_CODE"   NUMBER      NULL,
   "PR_ENTITY"   NUMBER      NOT NULL,
   "PR_EDIT_ENTITY"   NUMBER      NULL,
   "PR_EDIT_DATE"   DATE      NULL,
   "PR_CONTENT"   CLOB      NULL
);

COMMENT ON COLUMN "PRODUCT_STOCK"."PR_CODE" IS '상품코드(N)';

CREATE TABLE "MENU_PRODUCT" (
   "MB_NUM"   NUMBER      NOT NULL,
   "PR_CODE"   NUMBER      NULL,
   "PR_EACH"   NUMBER      NULL
);

COMMENT ON COLUMN "MENU_PRODUCT"."PR_CODE" IS '상품코드(N)';

CREATE TABLE "MENU_EXPLAIN" (
   "MB_NUM"   NUMBER      NOT NULL,
   "ME_IMG"   CLOB      NULL,
   "ME_CONTENT"   CLOB      NULL,
   "ME_SEQ"   NUMBER      NULL,
   "ME_STATUS"   VARCHAR2(3)   DEFAULT 'Y'   NOT NULL
);

CREATE TABLE "MENU_REPLY" (
   "MR_NUM"   NUMBER      NULL,
   "MB_NUM"   NUMBER      NOT NULL,
   "MR_CONTENT"   CLOB      NULL,
   "MR_WRITER"   VARCHAR2(30)      NULL,
   "MR_CDATE"   DATE      NULL,
   "MR_THANK"   NUMBER   DEFAULT 0   NULL,
   "MR_STATUS"   VARCHAR2(3)   DEFAULT 'Y'   NOT NULL
);

CREATE TABLE "NOTICE" (
   "NOTICE_NUM"   NUMBER      NULL,
   "NOTICE_TITLE"   VARCHAR2(60)      NOT NULL,
   "NOTICE_CONTENT"   CLOB      NULL,
   "NOTICE_WRITER"   VARCHAR2(30)      NULL,
   "NOTICE_CDATE"   DATE      NULL,
   "NOTICE_STATUS"   VARCHAR2(3)   DEFAULT 'Y'   NOT NULL,
   "MEM_NUM"   NUMBER      NOT NULL,
   "SHIPPING_CODE"   NUMBER      NULL
);

COMMENT ON COLUMN "NOTICE"."NOTICE_NUM" IS '공지사항';

COMMENT ON COLUMN "NOTICE"."SHIPPING_CODE" IS '배송번호(N)';

CREATE TABLE "REQUEST_BOARD" (
   "RB_NUM"   NUMBER      NULL,
   "RB_TITLE"   VARCHAR2(60)      NOT NULL,
   "RB_CONTENT"   CLOB      NULL,
   "RB_WRITER"   VARCHAR2(30)      NULL,
   "RB_FILE"   CLOB      NULL,
   "RB_THANK"   NUMBER      NULL,
   "RB_STATUS"   VARCHAR2(3)   DEFAULT 'Y'   NULL,
   "MEM_NUM"   NUMBER      NOT NULL,
   "SHIPPING_CODE"   NUMBER      NULL
);

COMMENT ON COLUMN "REQUEST_BOARD"."RB_NUM" IS '요청게시판';

COMMENT ON COLUMN "REQUEST_BOARD"."SHIPPING_CODE" IS '배송번호(N)';

CREATE TABLE "QNA_BOARD" (
   "Q_NUM"   NUMBER      NULL,
   "Q_TITLE"   VARCHAR2(60)      NULL,
   "Q_CONTENT"   CLOB      NULL,
   "Q_WRITER"   VARCHAR2(30)      NULL,
   "OR_NUM"   NUMBER      NULL,
   "Q_STATUS"   VARCHAR2(3)   DEFAULT 'Y'   NOT NULL,
   "Q_CDATE"   DATE      NULL,
   "MEM_NUM"   NUMBER      NOT NULL,
   "SHIPPING_CODE"   NUMBER      NULL
);

COMMENT ON COLUMN "QNA_BOARD"."Q_NUM" IS '질문게시판';

COMMENT ON COLUMN "QNA_BOARD"."SHIPPING_CODE" IS '배송번호(N)';

CREATE TABLE "QNA_REPLY" (
   "Q_NUM"   NUMBER      NULL,
   "QR_NUM"   NUMBER      NULL,
   "QR_CONTENT"   CLOB      NULL,
   "QR_WRITER"   VARCHAR2(30)      NULL,
   "QR_DATE"   DATE      NULL,
   "QR_THANK"   NUMBER   DEFAULT 0   NULL,
   "QR_STATUS"   VARCHAR2(3)   DEFAULT 'Y'   NULL,
   "MEM_NUM"   NUMBER      NOT NULL,
   "SHIPPING_CODE"   NUMBER      NULL
);

COMMENT ON COLUMN "QNA_REPLY"."Q_NUM" IS '질문게시판';

COMMENT ON COLUMN "QNA_REPLY"."SHIPPING_CODE" IS '배송번호(N)';

CREATE TABLE "MIROTIC" (
   "OR_NUM"   NUMBER      NULL,
   "MB_NUM"   NUMBER      NULL,
   "MB_EACH"   NUMBER      NULL,
   "PR_CODE"   NUMBER      NULL,
   "PR_EACH"   NUMBER      NULL,
   "OR_TOTAL"   NUMBER      NULL,
   "OR_DATE"   DATE      NULL,
   "OR_STATUS"   VARCHAR2(30)      NULL,
   "SENDER_NAME"   VARCHAR2(30)      NULL,
   "SENDER_ADDR"   CLOB      NULL,
   "SENDER_PHONE"   VARCHAR2(50)      NULL,
   "SHIPPING_CODE"   NUMBER      NULL,
   "MEM_NUM"   NUMBER      NULL
);

COMMENT ON COLUMN "MIROTIC"."OR_NUM" IS '주문번호(N)';

COMMENT ON COLUMN "MIROTIC"."SHIPPING_CODE" IS '배송번호(N)';

CREATE TABLE "MILEAGE" (
   "MEM_NUM"   NUMBER      NOT NULL,
   "SHIPPING_CODE"   NUMBER      NULL,
   "MILEAGE_TOTAL"   NUMBER      NULL,
   "MILEAGE_EDIT"   NUMBER      NULL,
   "MILEAGE_EDIT_DATE"   DATE      NULL,
   "MILEAGE_CONTENT"   CLOB      NULL,
   "OR_NUM"   NUMBER      NULL
);

COMMENT ON COLUMN "MILEAGE"."SHIPPING_CODE" IS '배송번호(N)';

CREATE TABLE "SHIPPING" (
   "SHIPPING_CODE"   NUMBER      NULL,
   "SHIPPING_STATUS"   VARCHAR2(30)      NULL,
   "SHIPPING_PRICE"   NUMBER      NULL,
   "RECEIVER_NAME"   VARCHAR2(30)      NULL,
   "RECEIVER_ADDR"   CLOB      NULL,
   "RECEIVER_PHONE"   VARCHAR2(50)      NULL,
   "SHIP_CODE"   NUMBER      NOT NULL,
   "SHIPPING_REQUEST"   CLOB      NULL,
   "SHIPPING_DATE"   DATE      NULL,
   "OR_NUM"   NUMBER      NULL
);

COMMENT ON COLUMN "SHIPPING"."SHIPPING_CODE" IS '배송번호(N)';

COMMENT ON COLUMN "SHIPPING"."OR_NUM" IS '주문번호(N)';

CREATE TABLE "SHIP" (
   "SHIP_CODE"   NUMBER      NOT NULL,
   "SHIP_NAME"   VARCHAR2(30)      NULL
);

CREATE TABLE "ORDER_DETAIL" (
   "OR_NUM"   NUMBER      NULL
);

COMMENT ON COLUMN "ORDER_DETAIL"."OR_NUM" IS '주문번호(N)';